@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ============================
       MONOSPACE MINIMAL THEME
       Clean ops console - distraction-free
       ============================ */

    /* Backgrounds - true black, no blue tint */
    --bg0: #0A0A0A;  /* App background - true black */
    --bg1: #141414;  /* Panel/sidebar */
    --bg2: #1C1C1C;  /* Card/elevated */
    --bg3: #2A2A2A;  /* Hover/active */

    /* Text hierarchy - neutral grey, no blue */
    --fg0: #E5E5E5;  /* Primary text - soft white */
    --fg1: #A0A0A0;  /* Secondary text - grey */
    --fg2: #6B6B6B;  /* Muted/caption - darker grey */
    --fg3: #4A4A4A;  /* Disabled - subtle grey */

    /* Borders - solid grey, no alpha blue tint */
    --bd0: #2A2A2A;  /* Default border */
    --bd1: #404040;  /* Strong/hover border */

    /* Status semantic colors - muted, not neon */
    --success: #22C55E;    /* OK, Complete, Shipped - muted green */
    --warning: #CA8A04;    /* Review, Degraded - amber */
    --danger: #DC2626;     /* Error, Down, Blocked - red */
    --info: #3B82F6;       /* Info, Hint - blue */
    --progress: #2563EB;   /* In Progress, Running - deep blue */
    --idle: #6B6B6B;       /* Idle, Neutral, Todo - grey */

    /* Extended status for work orders / operations */
    --status-planned: var(--idle);
    --status-active: var(--progress);
    --status-blocked: var(--danger);
    --status-review: var(--warning);
    --status-shipped: var(--success);
    --status-cancelled: var(--fg3);
    --status-todo: var(--idle);
    --status-in-progress: var(--progress);
    --status-done: var(--success);
    --status-rework: var(--warning);

    /* Priority colors */
    --priority-p0: var(--danger);
    --priority-p1: var(--warning);
    --priority-p2: var(--info);
    --priority-p3: var(--idle);

    /* Density presets */
    --density-compact-row: 32px;
    --density-default-row: 36px;
    --density-compact-padding: 8px;
    --density-default-padding: 12px;

    /* Spacing scale (base 8px) */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;

    /* Layout */
    --rail-width: 240px;
    --rail-collapsed: 72px;
    --topbar-height: 44px;
    --drawer-width: 460px;
    --drawer-width-lg: 520px;

    /* Border radius - sharp, minimal (2px max) */
    --radius-sm: 0px;    /* Sharp corners */
    --radius-md: 2px;    /* Slight rounding */
    --radius-lg: 2px;    /* Consistent minimal */
    --radius-pill: 999px; /* Keep for pills only */

    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;
  }

  /* Ops Dim preset - lower contrast for extended viewing */
  .theme-dim {
    --fg0: #C8D0DC;
    --fg1: #8A9AAD;
    --fg2: #6B7A8F;
    --bd0: rgba(255, 255, 255, 0.06);
    --bd1: rgba(255, 255, 255, 0.10);
  }

  /* Compact density override */
  .density-compact {
    --density-row: var(--density-compact-row);
    --density-padding: var(--density-compact-padding);
  }
}

/* Base styles */
html,
body {
  height: 100%;
  overflow: hidden;
}

body {
  background-color: var(--bg0);
  color: var(--fg0);
}

/* Scrollbar styling for dark theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg1);
}

::-webkit-scrollbar-thumb {
  background: var(--bg3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--fg3);
}

/* Focus ring */
*:focus-visible {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

/* Remove focus ring for mouse users */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Selection - neutral grey highlight */
::selection {
  background-color: rgba(64, 64, 64, 0.6);
  color: var(--fg0);
}

@layer components {
  /* Status pill backgrounds (12% alpha tint) - muted colors */
  .status-bg-success { background-color: rgba(34, 197, 94, 0.12); }
  .status-bg-warning { background-color: rgba(202, 138, 4, 0.12); }
  .status-bg-danger { background-color: rgba(220, 38, 38, 0.12); }
  .status-bg-info { background-color: rgba(59, 130, 246, 0.12); }
  .status-bg-progress { background-color: rgba(37, 99, 235, 0.12); }
  .status-bg-idle { background-color: rgba(107, 107, 107, 0.12); }

  /* Keyboard shortcut chip */
  .kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    font-family: var(--font-geist-mono);
    font-size: 11px;
    font-weight: 500;
    color: var(--fg2);
    background: var(--bg3);
    border: 1px solid var(--bd1);
    border-radius: 4px;
  }

  /* Monospace text utility */
  .mono {
    font-family: var(--font-geist-mono);
    font-feature-settings: "tnum" 1;
  }

  /* Table cell with monospace content */
  .table-cell-mono {
    font-family: var(--font-geist-mono);
    font-size: 12px;
    font-weight: 500;
    letter-spacing: -0.01em;
  }

  /* Terminal-style uppercase header */
  .terminal-header {
    font-family: var(--font-geist-mono);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--fg1);
  }

  /* Accent bar (left border for status indication) */
  .accent-bar {
    position: relative;
  }
  .accent-bar::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    border-radius: 1px;
  }
  .accent-bar-success::before { background-color: var(--success); }
  .accent-bar-warning::before { background-color: var(--warning); }
  .accent-bar-danger::before { background-color: var(--danger); }
  .accent-bar-info::before { background-color: var(--info); }
  .accent-bar-progress::before { background-color: var(--progress); }
}

@layer utilities {
  /* Animation for running/active states */
  @keyframes pulse-subtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 2s ease-in-out infinite;
  }

  /* Truncate with ellipsis */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
